<!DOCTYPE html>
<html ng-app="MyBeerApp">
  <head>
    <title>Mikali Brewing Co</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="resources/css/main.css" type="text/css">
    <link rel="stylesheet" href="resources/css/beer.css" type="text/css">
    <link rel="stylesheet" href="resources/css/calendar.css" type="text/css">
    <link rel="shortcut icon" href="resources/imgs/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="resources/3rdparty/font-awesome-4.3.0/css/font-awesome.min.css" type="text/css">
  </head>
  <body>
    <!--<header class="header">
      <div class="wrapper">
        <div class="brand">
        </div>
        <div class="marquee">
          <div class="slide">
          </div>
        </div>
      </div>

      <div class="navbar">
        <ul class="navigation">
          <li>
            <a href="#/beer" class="icon-link">
              <span class="fa fa-beer"></span><span>Beers</span>
            </a>
          </li>
          <li>
            <a href="#/calendar" class="icon-link">
              <span class="fa fa-calendar"></span><span>Calendar</span>
            </a>
          </li>
        </ul>

        <form name="search-form" class="search-form">
          <div class="search-box">
            <label for="search" class="filter-by">
              <span class="fa fa-search"></span>
            </label>
            <input type="text" id="search-field" name="search-field" class="search" placeholder="belgian, wheat, stout" />
            <button type="button" class="clear" data-target="search-field">
              <span class="fa fa-times"></span>
            </button>
          </div>
        </form>
      </div>
    </header>
    -->
    <header class="navbar">
      <nav>
        <button type="button" class="btn-icon-text">
          <span class="fa fa-beer"></span>
          <span>Beers</span>
        </button>

        <button type="button" class="btn-icon-text">
          <span class="fa fa-calendar"></span>
          <span>Calendar</span>
        </button>
      </nav>

      <div class="logo-container">
        <img src="http://i.imgur.com/pPRTum3.png" class="logo" width="227px" height="228px">
      </div>

      <div class="search-container">
        <input type="text" placeholder="Belgian, Wheat, Stout" id="main-search" name="main-search">
        <button type="submit" class="search">
          <span class="fa fa-search"></span>
        </button>
      </div>
    </header>


    <div class="content">
      <ng-view></ng-view>

      <p class="lorem-ipsum">
      Lorem ipsum dolor sit amet, pro at etiam dolores. An everti quaeque consectetuer eos, cu vix vero movet labore. Vix te saepe fastidii. Persius graecis erroribus id mea, vel consulatu deterruisset an, nam eu albucius constituto temporibus. At ferri nulla pro, quo possim offendit corrumpit ad.
      </p>

      <p class="lorem-ipsum">
      Sea lorem malis no, decore audiam has ad, usu ei wisi vivendum maluisset. Ex meis mucius inimicus mei, copiosae temporibus vel ei. Pri ea illum civibus tincidunt. Vis ut alterum civibus fabellas, enim incorrupte sed ut. Id cibo quas accommodare pri.
      </p>
      <p class="lorem-ipsum">
      Cum id enim perpetua sententiae, minim nemore dissentias ad pri. Mel ex audire equidem docendi, ut enim quaerendum pro, ridens cetero debitis usu te. Offendit corrumpit eu nam. Sit legere percipit at, cu eam scripta delicata. Tempor aeterno in nam. Posse aliquid in vix. Cetero epicurei percipit id sit, omnesque neglegentur et has, elitr tollit eligendi id ius.
      </p>
      <p class="lorem-ipsum">
      Vim cu viderer nusquam suscipit, cum no legere graece deleniti. Et augue nostrud his. Decore vidisse iudicabit et mea, te agam semper animal qui. Vim exerci reformidans cu, augue utinam adolescens est ne, verterem tractatos ut vim. Summo labore maluisset sed ne, in pri veri vidisse delicatissimi, vel antiopam appellantur te.
      </p>
      <p class="lorem-ipsum">
      Ex utinam fastidii mei, mel molestie iudicabit at. Ornatus deleniti repudiare eu qui, qui erroribus reformidans ut, sumo nonumy alienum ea pri. Dolor persius habemus cum ei. Malis nostrud phaedrum an nam, purto dicit mea ei, an mel apeirian percipitur. Qui prima minimum ei.
      </p>
      
      <a href="#/beers" data-dialog="someId" class="dialog-toggle">Toggle that dialog!</a>
    </div>

    <div class="footer">
    </div>
    
    <div id="someId" class="dialog" role="dialog" aria-labelledby="dialog-label">
      <div class="dialog-overlay"></div>
      <div class="dialog-content">
        <div class="header">
          <button type="button" class="fa fa-times dialog-close"></button>
          <h4 class="dialog-title">Some Header!</h4>
        </div>
        <div class="content">
          Some content to display in here.. Hopefully some beer!
        </div>
      </div>
    </div>

    <script src="resources/3rdparty/jquery/jquery-2.1.3.js"></script>
    <script src="resources/3rdparty/moment-2.9.0/moment.js"></script>
    <script src="resources/3rdparty/angular-1.3.14/angular.js"></script>
    <script src="resources/3rdparty/angular-1.3.14/angular-route.js"></script>
    <script src="resources/3rdparty/angular-1.3.14/angular-sanitize.js"></script>

    <script src="resources/js/app.js"></script>
    <script src="resources/js/controllers/BeerCtrl.js"></script>
    <script src="resources/js/controllers/CalendarCtrl.js"></script>
    <script src="resources/js/factories/BeerFactory.js"></script>
    <script src="resources/js/factories/CalendarFactory.js"></script>
    <script src="resources/js/directives/CalendarDirective.js"></script>
    <script src="resources/js/main.js" type="text/javascript"></script>
    <script>
    /**
     * 
     */
    var ESC_KEY = 27;
    $(function() {
      $('.dialog-toggle').click(function() {
        var dialog = $('#' + $(this).data('dialog'));
        openDialog(dialog);
      });
      
      $('.dialog-overlay').click(function() {
        closeDialog($(this).parent());
      });
      
      $('.dialog .dialog-close').click(function() {
        closeDialog($('.dialog.dialog-open'));
      })
      
      $(document).keyup(function(e) {
        if(e.which === ESC_KEY) {
          closeDialog($('.dialog.dialog-open'));
        }
      });
    });

    function openDialog(dialog) {
      dialog.addClass('dialog-open');
      dialog.addClass('dialog-open');
    }

    function closeDialog(dialog) {
      if(typeof dialog == 'string') {
        dialog = $('#' + dialog);
      }
      dialog.removeClass('dialog-open');
      dialog.addClass('dialog-close');
      
      dialog.one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function() {
        dialog.removeClass('dialog-close');
      });
    }
    </script>
  </body>
</html>
